<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // @@老師有換主題嗎
        /*創立自己的promise=======================================================================================*/
        console.log(Promise);
        console.dir(Promise);
        
        // const a = new Promise((resolve, reject));
        // const a = new Promise();
        var a = new Promise(()=>{});
        console.log(a);//pending狀態
        
        var a = new Promise((resolve,reject)=>{
            resolve('success')
        });
        console.log(a);//resolved狀態

        // ##一次只能執行其中一個
        var a = new Promise((resolve,reject)=>{
            reject('fail')
        });
        console.log(a);//pending狀態

        a.then((res)=>{
            console.log(res);
        }).catch((err)=>{
            console.log(err);
            
        })

        // ##但像a物件沒辦法傳入參數不會這樣用
        // --------------------------------------------
        // function promiseFn(){

        // }

        const promiseFn = (num,time = 0) => {
            return new Promise((resolve, reject) => {
                // ##非同步行為
                console.log(1);
                setTimeout(()=>{
                    if(num){
                        // resolve('truthy',num);//@@只能依個參數
                        // resolve('truthy,${num}');//%% 
                        resolve(`truthy,${num}`);//@@只能依個參數
                    }else{
                        reject(`falsy,${num}`);
                    }
                },time)
            })
        }
        promiseFn(1)
            .then((res)=>{
                console.log(res);
            })
            .catch((err)=>{
                console.log(err);
            })
        console.log('程式碼結束');
        /*promiss Chain========================================================================*/
        // ##then其實有傳入成功跟失敗的結果 難怪可以傳給catch
        

    </script>

</body>
</html>